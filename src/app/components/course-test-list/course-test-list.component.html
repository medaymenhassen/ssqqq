<div class="container">
  <div class="header">
    <h2>Course Tests</h2>
    <a routerLink="/course-tests/create" class="btn btn-primary">Create New Course Test</a>
  </div>

  <div *ngIf="loading" class="loading">
    Loading course tests...
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div *ngIf="!loading && courseTests.length === 0" class="no-data">
    No course tests found.
  </div>

  <div *ngIf="!loading && courseTests.length > 0" class="table-container">
    <table class="table">
      <thead>
        <tr>
          <th>ID</th>
          <th>Title</th>
          <th>Description</th>
          <th>Passing Score</th>
          <th>Time Limit (min)</th>
          <th>Course ID</th>
          <th>Created At</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let test of courseTests">
          <td>{{ test.id }}</td>
          <td>{{ test.title }}</td>
          <td>{{ test.description | slice:0:50 }}{{ test.description.length > 50 ? '...' : '' }}</td>
          <td>{{ test.passingScore }}%</td>
          <td>{{ test.timeLimitMinutes }}</td>
          <td>{{ test.courseId }}</td>
          <td>{{ test.createdAt | date:'short' }}</td>
          <td class="actions">
            <a [routerLink]="['/course-tests', test.id, 'edit']" class="btn btn-sm btn-secondary">Edit</a>
            <a [routerLink]="['/test-questions']" [queryParams]="{courseTestId: test.id}" class="btn btn-sm btn-info">Manage Questions</a>
            <button (click)="deleteCourseTest(test.id)" class="btn btn-sm btn-danger">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>