<div class="container">
  <div class="header">
    <h2>Course Lessons</h2>
    <a routerLink="/course-lessons/create" class="btn btn-primary">Create New Lesson</a>
  </div>

  <div *ngIf="loading" class="loading">
    Loading...
  </div>

  <div *ngIf="error" class="error-message">
    {{ error }}
  </div>

  <div *ngIf="!loading && lessons.length === 0" class="no-data">
    No course lessons found.
  </div>

  <div *ngIf="!loading && lessons.length > 0" class="table-responsive">
    <table class="table">
      <thead>
        <tr>
          <th>Title</th>
          <th>Description</th>
          <th>Video URL</th>
          <th>Documents</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let lesson of lessons">
          <td>{{ lesson.title }}</td>
          <td>{{ lesson.description }}</td>
          <td>{{ lesson.videoUrl }}</td>
          <td>
            <span *ngIf="lesson.videoUrl" class="document-indicator video">ðŸŽ¥</span>
            <span *ngIf="lesson.animation3dUrl" class="document-indicator model">ðŸŽ®</span>
          </td>
          <td class="actions">
            <a [routerLink]="['/course-lessons', lesson.id, generateSlug(lesson.title)]" class="btn btn-sm btn-primary">View</a>
            <a [routerLink]="['/course-lessons', lesson.id, 'edit']" class="btn btn-sm btn-secondary">Edit</a>
            <button (click)="deleteCourseLesson(lesson.id)" class="btn btn-sm btn-danger">Delete</button>
            <a [routerLink]="['/test-questions']" [queryParams]="{lessonId: lesson.id}" class="btn btn-sm btn-info">Manage Questions</a>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>